/*! For license information please see provider.airplay.js.LICENSE.txt */
"use strict";(self.webpackChunkjwplayer=self.webpackChunkjwplayer||[]).push([[520],{6342:function(e,t,a){a.r(t),a.d(t,{default:function(){return l}});var i=a(7958);function l(e,t){var a=null,l=this;function n(){t.set("castState",{available:t.get("castAvailable"),active:t.get("castActive")})}function c(e){e&&e.forEach((function(e){e.file=(0,i.getAbsolutePath)(e.file)}))}function r(e){e&&(e.image=(0,i.getAbsolutePath)(e.image),c(e.allSources),c(e.sources))}l.updateAvailability=function(e){t.set("castAvailable","available"===e.availability),n()},l.updateActive=function(){var i=!1;a&&(i=!!a.webkitCurrentPlaybackTargetIsWireless),t.off("change:playlistItem",r),i&&(e.instreamDestroy(),r(t.get("playlistItem")),t.on("change:playlistItem",r)),t.set("airplayActive",i),t.set("castActive",i),n()},l.airplayToggle=function(){a&&a.webkitShowPlaybackTargetPicker()},t.change("itemReady",(function(){a=null,t.getVideo()&&(a=t.getVideo().video),a&&(a.removeEventListener("webkitplaybacktargetavailabilitychanged",l.updateAvailability),a.removeEventListener("webkitcurrentplaybacktargetiswirelesschanged",l.updateActive),a.addEventListener("webkitplaybacktargetavailabilitychanged",l.updateAvailability),a.addEventListener("webkitcurrentplaybacktargetiswirelesschanged",l.updateActive)),l.updateAvailability({}),l.updateActive()}))}}}]);