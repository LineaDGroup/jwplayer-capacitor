/*! For license information please see jwplayer.amp.js.LICENSE.txt */
"use strict";(self.webpackChunkjwplayer=self.webpackChunkjwplayer||[]).push([[168],{599:function(t,e,o){o.d(e,{FM:function(){return r},xq:function(){return s},Sf:function(){return c}});var n=o(1009),i=o(6286);function r(t){return t.replace(/^(.*\/)?(.*)-?.*\.(css).*$/,"$2")}function s(t){t||(t={});var e=t.active,o=t.inactive,n=t.background,i={};return i.controlbar=function(t){if(t||e||o||n){var i={};return t=t||{},i.iconsActive=t.iconsActive||e,i.icons=t.icons||o,i.text=t.text||o,i.background=t.background||n,i}}(t.controlbar),i.timeslider=function(t){if(t||e){var o={};return t=t||{},o.progress=t.progress||e,o.rail=t.rail,o}}(t.timeslider),i.menus=function(t){if(t||e||o||n){var i={};return t=t||{},i.text=t.text||o,i.textActive=t.textActive||e,i.background=t.background||n,i}}(t.menus),i.tooltips=function(t){if(t||o||n){var e={};return t=t||{},e.text=t.text||o,e.background=t.background||n,e}}(t.tooltips),i}function c(t,e){var o;function r(e,o,r,s){if(r){e=(0,n.O4)(e,"#"+t+(s?"":" "));var c={};c[o]=r,(0,i.iv)(e.join(", "),c,t)}}e&&(e.controlbar&&function(e){r([".jw-controlbar .jw-icon-inline.jw-text",".jw-title-primary",".jw-title-secondary"],"color",e.text),e.icons&&(r([".jw-button-color:not(.jw-icon-cast)",".jw-button-color.jw-toggle.jw-off:not(.jw-icon-cast)"],"color",e.icons),r([".jw-display-icon-container .jw-button-color"],"color",e.icons),(0,i.iv)("#"+t+" .jw-icon-cast google-cast-launcher.jw-off","{--disconnected-color: "+e.icons+"}",t)),e.iconsActive&&(r([".jw-display-icon-container .jw-button-color:hover",".jw-display-icon-container .jw-button-color:focus"],"color",e.iconsActive),r([".jw-button-color.jw-toggle:not(.jw-icon-cast)",".jw-button-color:hover:not(.jw-icon-cast)",".jw-button-color:focus:not(.jw-icon-cast)",".jw-button-color.jw-toggle.jw-off:hover:not(.jw-icon-cast)"],"color",e.iconsActive),r([".jw-svg-icon-buffer"],"fill",e.icons),(0,i.iv)("#"+t+" .jw-icon-cast:hover google-cast-launcher.jw-off","{--disconnected-color: "+e.iconsActive+"}",t),(0,i.iv)("#"+t+" .jw-icon-cast:focus google-cast-launcher.jw-off","{--disconnected-color: "+e.iconsActive+"}",t),(0,i.iv)("#"+t+" .jw-icon-cast google-cast-launcher.jw-off:focus","{--disconnected-color: "+e.iconsActive+"}",t),(0,i.iv)("#"+t+" .jw-icon-cast google-cast-launcher","{--connected-color: "+e.iconsActive+"}",t),(0,i.iv)("#"+t+" .jw-icon-cast google-cast-launcher:focus","{--connected-color: "+e.iconsActive+"}",t),(0,i.iv)("#"+t+" .jw-icon-cast:hover google-cast-launcher","{--connected-color: "+e.iconsActive+"}",t),(0,i.iv)("#"+t+" .jw-icon-cast:focus google-cast-launcher","{--connected-color: "+e.iconsActive+"}",t)),r([" .jw-settings-topbar",":not(.jw-state-idle) .jw-controlbar",".jw-flag-audio-player .jw-controlbar"],"background",e.background,!0)}(e.controlbar),e.timeslider&&function(t){var e=t.progress;"none"!==e&&(r([".jw-progress",".jw-knob"],"background-color",e),r([".jw-buffer"],"background-color",(0,i.HY)(e,50))),r([".jw-rail"],"background-color",t.rail),r([".jw-background-color.jw-slider-time",".jw-slider-time .jw-cue"],"background-color",t.background)}(e.timeslider),e.menus&&(r([".jw-option",".jw-toggle.jw-off",".jw-skip .jw-skip-icon",".jw-nextup-tooltip",".jw-nextup-close",".jw-settings-content-item",".jw-related-title"],"color",(o=e.menus).text),r([".jw-option.jw-active-option",".jw-option:not(.jw-active-option):hover",".jw-option:not(.jw-active-option):focus",".jw-settings-content-item:hover",".jw-nextup-tooltip:hover",".jw-nextup-tooltip:focus",".jw-nextup-close:hover"],"color",o.textActive),r([".jw-nextup",".jw-settings-menu"],"background",o.background)),e.tooltips&&function(t){r([".jw-skip",".jw-tooltip .jw-text",".jw-time-tip .jw-text"],"background-color",t.background),r([".jw-time-tip",".jw-tooltip"],"color",t.background),r([".jw-skip"],"border","none"),r([".jw-skip .jw-text",".jw-skip .jw-icon",".jw-time-tip .jw-text",".jw-tooltip .jw-text"],"color",t.text)}(e.tooltips),e.menus&&function(e){if(e.textActive){var o={color:e.textActive,borderColor:e.textActive,stroke:e.textActive};(0,i.iv)("#"+t+" .jw-color-active",o,t),(0,i.iv)("#"+t+" .jw-color-active-hover:hover",o,t)}if(e.text){var n={color:e.text,borderColor:e.text,stroke:e.text};(0,i.iv)("#"+t+" .jw-color-inactive",n,t),(0,i.iv)("#"+t+" .jw-color-inactive-hover:hover",n,t)}}(e.menus))}},5545:function(t,e,o){o.r(e),o.d(e,{default:function(){return l}});var n=o(5322),i=o(599),r=o(2445),s=["file","description","image","mediaid","title","type","playlist","floating"].concat(["skinUrl","pluginUrl","advertising","adCustParams","adMacros"]),c={play:"play",pause:"pause",complete:"complete",meta:"meta",mute:"mute",visible:"visible",adImpression:"adImpression",adComplete:"adComplete",adPlay:"adPlay",adPause:"adPause",adTime:"adTime",time:"time",controls:"controls",resize:"resize"};function a(t){if(t.source===window.parent){var e=t.data;if(e&&("object"==typeof e||(e=JSON.parse(e))&&"object"==typeof e))return e}}var l=function(){function t(t){this.api=t,this.model=null,this.onCommand=this.onCommand.bind(this),this.shouldSetupOnConfig=!1,this.playerReady=!1}var e=t.prototype;return e.setup=function(t){var e=this;return this.subscribe(),this.sendMessage({event:"setup"}),t.attributes.ampController=this,new Promise((function(o){var c=setTimeout((function(){return e.shouldSetupOnConfig=!0,o()}),50);window.addEventListener("message",(function e(l){clearTimeout(c);var u=a(l);if(u&&"setupConfig"===u.method&&"setupConfig"===u.method){window.removeEventListener("message",e);var d=u.optParams;if(!d||0===Object.keys(d).length)return o();var f=function(t,e){var o={};o.edition=t.get("edition");var n="free"===o.edition,c=e.skinUrl;!n&&c&&function(t,e){t.skin={},t.skin.url=e,t.skin.name=(0,i.FM)(e)}(o,c);var a=e.advertising||t.get("advertising"),l=e.adCustParams,u=a.schedule;l&&0!==Object.keys(l).length&&u&&Object.keys(u).forEach((function(t){u[t].custParams=l}));var d=e.adMacros;a&&d&&(a.ampMacros=d);var f=e.pluginUrl;return(f||a)&&(a&&(o.advertising=a),function(t,e){e&&(t.plugins={},t.plugins[e]={}),t.plugins=(0,r.qG)(t)}(o,f)),Object.keys(e).forEach((function(t){-1===s.indexOf(t)&&(o[t]=e[t])})),o}(t,d);return this.shouldSetupOnConfig?void this.api.setup((0,n.l7)({},this.api.getConfig().setupConfig,d)):((0,n.l7)(t.attributes,f),o())}}))}))},e.ready=function(t){return this.model=t,this.addEventListeners(),this.sendMessage({event:"ready",detail:{playlistItem:this.getPlaylistItem(),muted:this.model.getMute()}})},e.createAMPItem=function(t){return{duration:t.duration,meta:this.getMetadata(),title:t.title,mediaid:t.mediaid}},e.getPlaylistItem=function(){var t=this.model.get("playlistItem");return this.createAMPItem(t)},e.getPlayedRanges=function(){for(var t=this.model.get("mediaElement").played,e=t.length,o=[],n=0;n<e;n++)o.push([t.start(n),t.end(n)]);return o},e.getMetadata=function(){var t=navigator&&navigator.mediaSession&&navigator.mediaSession.metadata;if(t)return{title:t.title,artist:t.artist,album:t.album,artwork:t.artwork}},e.subscribe=function(){var t=this;this.unsubscribe(),Object.keys(c).forEach((function(e){t.api.on(e,(function(o){var i=(0,n.l7)({},o);i.client&&"vast"===i.client&&["request","response"].forEach((function(t){delete i[t]})),t.sendMessage({event:e,detail:i})}),t)})),window.addEventListener("message",this.onCommand)},e.addEventListeners=function(){var t=this;this.model.on("change:fullscreen",(function(e,o){t.sendMessage({event:"fullscreen",detail:{fullscreen:o}})}),this),this.model.on("change:playlistItem",(function(e,o){return t.sendMessage({event:"playlistItem",detail:t.createAMPItem(o)})}),this),this.api.once("ready",(function(){t.playerReady=!0}))},e.sendMessage=function(t,e){void 0===e&&(e="*"),window.parent.postMessage(t,e)},e.onCommand=function(t){var e=this,o=a(t);if(o){var n=o.method,i=o.optParams;if("getPlayedRanges"===n){var r={ranges:this.getPlayedRanges()};return this.sendMessage({event:"playedRanges",detail:r})}if(this.playerReady||"setControls"!==n)return this.api[n]?this.api[n](i):void 0;this.api.once("ready",(function(){e.api[n](i)}))}},e.unsubscribe=function(){this.api&&this.api.off(null,null,this),this.model&&this.model.off(null,null,this),window.removeEventListener("message",this.onCommand)},t}()}}]);